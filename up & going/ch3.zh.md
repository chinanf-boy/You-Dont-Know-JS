
# 你不知道JS: 向上走

# 3章: 为ydkjs

这个系列是关于什么的?简而言之,就是认真对待学习的任务. _javascript的所有部分_不仅仅是某些人所说的"好的部分"的语言,也不仅仅是你在工作中完成工作所需的最少的一部分. 

其他语言中的严重开发人员希望投入大量精力学习他们主要编写的语言,但js开发人员似乎从人群中脱颖而出,在这种意义上,他们通常不太懂这种语言. 这不是一件好事,也不是我们应该继续做的事情. 

这个_你不知道JS_(_ydkjs_与学习JS的典型方法形成鲜明对比的是,它与你所读到的几乎所有其他JS书籍都不一样. 它挑战你超越你的舒适区,问你遇到的每一个行为的深层次的"为什么"问题. 你准备好接受挑战了吗?

我将使用最后一章来简要地总结一下本系列其他书籍中的内容,以及如何最有效地为JS学习奠定基础. _ydkjs_. 

## 范围和关闭

也许你需要快来与最根本的东西是多么的变量范围真的作品在JavaScript. 仅仅有一些模糊的东西是不够的. _信仰_关于范围. 

这个_范围和关闭_标题开始揭穿常见的误解,JS是一个"解释性语言",因此没有编译. 不.

js引擎在(或有时在)期间编译您的代码. 执行.因此,我们对编译器对代码的理解有了更深入的了解,以了解它是如何发现和处理变量和函数声明的. 一路上,我们看到了JS变量范围管理的典型隐喻,"提升". 

这种对"词汇范围"的批判性理解,正是我们在本书最后一章的基础上探索闭包的基础. 闭包也许是js中最重要的一个概念,但如果您还没有第一次牢牢把握范围的工作原理,闭包可能会超出您的掌握范围. 

闭包的一个重要应用是模块模式,正如我们在本书第2章中简要介绍的那样. 模块模式可能是所有JavaScript中最流行的代码组织模式;对它的深入理解应该是您的最高优先级之一. 

## 对象原型

也许最为普遍和持久的关于JavaScript的假相`这`关键字指的是它出现的功能. 可怕的错误. 

这个`这`关键字是动态绑定的,这取决于所执行的函数是如何执行的,结果是有四条简单的规则可以理解和充分确定. `这`结合.

与ⅆ密切相关`这`关键字是对象原型机制,它是属性的查找链,类似于词法范围变量如何被发现. 但包裹在原型是JS的其他巨大的失误: 仿真的思想(假)类和(所谓的"原型")继承. 

不幸的是,将类和继承设计模式思维引入JavaScript的愿望正是您可能尝试做的最糟糕的事情,因为语法可能会诱使您联想到类现在存在的东西,事实上原型机制在其行为中基本上是相反的. 

争论的焦点是忽略错配并假装你所实现的是"继承",还是学习和接受对象原型系统的实际工作更合适. 后者更恰当地命名为"行为委托". 

这不仅仅是句法偏好. 委托是一种完全不同的ㄡ更强大的设计模式,它取代了用类和继承设计的需求. 但这些断言绝对会在几乎所有其他博客文章ㄡ书籍和会议上讨论关于JavaScript整个生命周期的主题. 

我所做的关于授权与继承的声明并非来自对语言及其句法的厌恶,而是源于渴望正确地使用语言的真正能力和无尽的困惑和挫败感. 

但我对原型和代表团所做的事情比我在这里所要做的要复杂得多. 如果你准备重新考虑你对JavaScript"类"和"继承"的了解,我给你一个机会"吃红色药片". _矩阵_1999)检查第4-6章的_对象原型_本系列的标题. 

## 类型与语法

本系列的第三个标题主要集中在解决另一个极具争议的主题: 类型强制. 也许没有一个话题比JS开发人员在谈论隐性强迫的混乱时更让人沮丧. 

到目前为止,传统的智慧

但是,强制真的如此混乱,如此糟糕,如此奸诈,你的代码从一开始就注定要使用它吗?

我说不,建立了多类型和值在1-3章真的了解工作之后,4章对这场辩论充分说明强制的作品,在其所有的角落和缝隙. 我们看到强迫的部分真的是令人惊讶的,如果有时间去学习,哪些部分实际上是完全有意义的. 

但我不只是表明强制是合理的和可以学习的,我认为强迫是一种非常有用的工具,完全低估了_你应该在你的代码中使用. _我的意思是,强制使用得当,不仅能起作用,还能使代码更好. 所有的反对者和怀疑者肯定会嘲笑这样一个位置,但我相信,这是给你的JS游戏的关键之一. 

你是想继续关注群众所说的话,还是愿意把所有的假设放在一边,以一种全新的视角看待强迫?这个_类型与语法_这一系列的标题将迫使你思考. 

## 异步和性能

本系列的前三个标题集中于语言的核心机制,但是第四个标题稍微分支以覆盖在语言机制之上用于管理异步编程的模式. 异步不仅对应用程序的性能至关重要,它也越来越成为_这个_在可写性和可维护性的关键因素. 

这本书开始,先清理大量的术语和概念的混乱,周围的事物像"异步""平行"和"并行"的深入说明如何做,不适用于JS. 

然后我们进入检查使异步回调的主要方法. 但是,在这里,我们很快就发现,仅用于现代异步编程需求的回调是不够的. 我们确定了回调的唯一编码,两大缺陷: _控制反转_信任缺失与线性理性能力的缺失. 

为了解决这两个主要不足,ES6引入了两个新的机制(实际上,模式): 承诺和发电机. 

承诺是一个时间无关的包装,围绕着"未来的价值",它允许您推理和撰写它们,而不管值是否准备好了. 此外,他们有效地解决国际奥委会的信任问题,通过一个值得信赖的和可组合的承诺机制路由回调. 

生成器为js函数引入一种新的执行方式,从而可以暂停生成器. `产量`点,然后异步恢复. 暂停和恢复功能使生成器中的同步ㄡ顺序查找代码可以在幕后异步处理. 通过这样做,我们解决非线性ㄡ非局部跳转混乱的回调和异步代码同步,从而使我看得更合理. 

但它是承诺和生成器的组合,从而在JavaScript中产生我们迄今为止最有效的异步编码模式. 事实上,许多在ES7来异步未来成熟和以后一定是建立在这样的基础. 要认真规划有效的异步的世界,你将需要结合承诺和发电机真舒服. 

如果承诺和生成器是表示让我们的程序更同步运行的模式,从而在更短的时间内完成更多的处理,那么JS还有许多其他性能优化方面值得探索. 

5章探讨了主题程序并行性与网络工作者和数据并行的SIMD,以及低级别的优化技术,如ASM.js. 第6章从适当的基准测试技术的角度来看性能优化,包括哪些性能需要担心,哪些需要忽略. 

有效地编写JavaScript意味着编写代码,以打破在广泛的浏览器和其他环境中动态运行的约束. 它需要许多复杂和详细的规划和努力,我们的部分采取一个程序从"工作"到"它的工作原理. "

这个_异步和性能_标题的目的是给你所有的工具和技能,你需要编写合理高效的JavaScript代码. 

## 6与超越

不管你觉得你已经掌握了JavaScript到什么程度,事实是JavaScript永远不会停止进化,而且,进化的速度正在迅速增加. 这个事实几乎是这个系列的精神的隐喻,拥抱我们永远不会完全. _知道_js的每一部分,因为一旦你掌握了它,就会有新的东西出现在你需要学习的地方. 

这个标题是致力于短期和中期的愿景的语言的方向,而不仅仅是_已知_6但之类的_可能的_东西之外. 

虽然本系列的所有标题都包含了

自6是接近完成,在写这篇文章的时候,_6与超越_开始把具体的东西从6景观分为几大类,包括新的语法,新的数据结构(集合),和新的处理能力和API. 我们覆盖这些新的ES6特性,在不同的详细程度,包括审查的细节,都碰上了其他书中这一系列. 

一些令人兴奋的ES6期待的事情: 解构阅读,默认参数值,符号,简洁的方法,计算性能,箭头功能,阻滞范围的承诺,发电机ㄡ迭代器ㄡ模块ㄡ代理WeakMaps,和很多,更多!唷,6包相当一拳!

这本书的第一部分是一个路线图,你需要学习如何准备新的和改进的JavaScript,你将在接下来的几年中写作和探索. 

书的后半部分将注意力转移到我们可能在不久的将来看到的事情上. 这里最重要的实现是post-es6,JS可能会演变特征的特征而不是版本,这意味着我们可以期望看到这些未来的东西,可能比你想象的要快得多. 

JavaScript的未来是光明的. 难道不是我们开始学习的时候了吗?!?

## 回顾

这个_ydkjs_系列致力于所有js开发人员都可以并且应该学习这种伟大语言的所有部分的命题. 没有人的意见,没有框架的假设,没有项目的截止日期应该是为什么你永远不学习和深刻理解JavaScript的借口. 

我们把每一个重要的焦点放在语言中,奉献出一本短小却非常密集的书来充分探究你可能知道的,但可能还没有完全实现的部分. 

"你不知道JS"不是批评或侮辱. 这是一种认识,我们所有人,包括我自己,必须妥协. 学习JavaScript不是最终目的,而是一个过程. 我们还不认识JavaScript. 但我们会!
